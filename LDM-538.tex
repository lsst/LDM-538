\documentclass[DM,obsolete,STS,toc]{lsstdoc}
% lsstdoc documentation: https://lsst-texmf.lsst.io/lsstdoc.html
% Package imports go here.

\usepackage{enumitem}
\usepackage{booktabs}
\input meta.tex

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\def\product{LSST DM Raw Image Archiving Service}
\author{Michelle Butler, Jim Parsons, Michelle Gower}
\setDocDate{\vcsdate}
\setDocRef{LDM-538}

\setDocUpstreamLocation{\url{https://github.com/lsst/LDM-538}}
\setDocCurator{Michelle Butler}
\setDocUpstreamVersion{\vcsrevision}

% Change history defined here.
\setDocChangeRecord{%
\addtohist{}{2018-04-18}{initial release - draft version}{Michelle Butler}
\addtohist{1.0}{2018-07-13}{Approved in \jira{RFC-488}.}{W.~O'Mullane}
\addtohist{}{}{Document set to obsolete. Test cases included in \citeds{LDM-639}.}{G. Comoretto}
}

\title[Test Spec for \product]{\product~Test Specification}

\setDocAbstract {
This document describes the detailed test specification for the
\product{}. This is a specific DM test, and will grow as more tests
are needed for the entire environment. This includes two individual
tests for the overall raw image creation and ingest into the permanent
record of the survey.
}

\begin{document}
\maketitle

\section{Introduction}
\label{sec:intro}


This document specifies the test procedure for the \product{}.


The \product{} is the component of the LSST system which is responsible for:
\begin{itemize}
\item{The creation of a well-formed raw image;}
\item{Providing fast access to the raw image by the Observatory Operations staff;}
\item{Saving the raw image into the permanent record of the survey;}
\end{itemize}


A full description of this service is provided in \S5.1.1 of \citeds{LDM-148}
and \S2.2 (which describes LSSTCam Archiving Service),
\S2.3 (Spectrograph Archiving Service) and
\S2.6 (Observatory Operations Data Service) of \citeds{LDM-230}.




\subsection{Objectives}
\label{sec:objectives}




This document builds on the description of LSST Data Management's
approach to testing as described in \citeds{LDM-503} to describe
the detailed tests that will be performed on the \product{} as part
of the verification of the DM system.


It identifies test designs, test cases and procedures for the tests,
and the pass/fail criteria for each test.

\subsection{Definitions, Acronyms, and Abbreviations \label{sec:acronyms}}
\input{acronyms}

\subsection{Scope}
\label{sec:scope}


This document describes the test procedures for the Raw Image Archiving Service
which includes parts from each of the following components of the LSST system
(as described in \citeds{LDM-148}):


\begin{itemize}

\item{OCS}
\item{Camera DAQ}
\item{DM Header Service}
\item{EFD Large File Annex (limited to communication between the DM Header Service and the Archivers)}
\item{DM OCS Bridge}
\item{CCOB}
\item{DMCS}
\item{Archiver}
\item{Catch-up Archiver}
\item{Alert Processor}
\item{ATS Achiver}
\item{Data Forwarders}
\item{Observatory Operations Data Service}
\item{Data Backbone Services}


\end{itemize}


\subsection{Applicable Documents}
\label{sec:docs}


\addtocounter{table}{-1}


\begin{tabular}[htb]{l l}


\citeds{LSE-209} & Software Component to Observatory Control System (OCS) Interface \\
% \citeds{LSE-73} & Observatory Control System (OCS) to Telescope Software Communication Interface \\
\citeds{LSE-68} & Camera Data Acquisition Interface \\
\citeds{LSE-70} & System Communication Protocol Interface \\
\citeds{LSE-72} & Data Management - OCS Software Communication Interface \\
\citeds{LDM-148} & LSST DM System Architecture \\
\citeds{LDM-294} & LSST DM Organization \& Management \\
\citeds{LDM-503} & LSST DM Test Plan \\
\citeds{LSE-61} & LSST DM Subsystem Requirements \\
\citeds{LSE-163} & LSST Data Products Definition Document \\
\citeds{LSE-29} & LSST Data Products Definition Document \\


\end{tabular}


\subsection{References\label{sec:references}}
\renewcommand{\refname}{}
\bibliography{lsst,refs,books,refs_ads}




%----------------------------------------------------
% TASK IDENTIFICATION - APPROACH
%----------------------------------------------------
\section{Approach}
\label{sec:approach}


The major activities to be performed are to:
\begin{itemize}
\item{Show successful integration between Telescope subsystems and Level 1 Archiver Service;}
\item{Show successful integration between CCOB (Camera Calibration Optical Bench) and DBB (Data Backbone);}
\item{Show successful integration between Level 1 Archiver Service and OODS;}
\item{Show successful integration between Level 1 Archiver Service and DBB;}
\end{itemize}


\subsection{Tasks and criteria}
\label{sec:tasks}


The following are the major items under test:


\begin{itemize}
\item{Create a well-formed raw image with data acquired from the Camera DAQ and the DM Header Service; }
\item{Create a image from a CCOB  and ingest the file into the DBB for further processing;; }
\item{Save a raw image in the OODS cache and access it using normal LSST mechanisms (e.g., ``Data Butler''); }
\item{Ingest a raw image into the DBB; }
\end{itemize}




\subsection{Features to be tested}
\label{sec:feat2test}


Do the following satisfy the requirements described in \citeds{LSE-61}?
\begin{itemize}
\item{Completeness and correctness of the raw images including format, metadata, and image data;}
\item{Raw data access;}
\item{Archiving of raw images;}
\end{itemize}


\subsection{Features not to be tested}
\label{sec:featnot2test}


This document describes the end-to-end testing of various components
that comprise the Raw Image Archiving service. It does not include tests internal to
a single component. Also this test specification does not
extend beyond the positive pass/fail options.

\subsection{Pass/fail criteria}
\label{sec:passfail}


The results of all tests will be assessed using the criteria described in
\citeds{LDM-503} \S4.




\subsection{Suspension criteria and resumption requirements}
\label{suspension}

%Refer to individual test cases where applicable.
Currently not applicable.


%----------------------------------------------------
% TASK IDENTIFICATION - Test Specification Design
%----------------------------------------------------
\newpage
\input{jira_docugen.tex}

\newpage
\input{jira_docugen.appendix.tex}

\end{document}
